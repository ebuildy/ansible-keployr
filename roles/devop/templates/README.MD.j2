# {{ keployr_division }} / {{ keployr_stack }}

{% for env in keployr_devop_envs %}
## Stacks - {{ env.env | upper }}

{% if infra.stacks is defined %}
{% for stack in infra.stacks %}
## {{ stack.name }}

| Service | URLs |
| ------- | ---- |
{% for service in stack.services %}
| {{ service.name }} | {% if service.urls is defined %}{% for url in service.urls %}* [https://{{ url.ingress }}{{ env.dns_suffix}}](https://{{ url.ingress }}{{ env.dns_suffix}}){% if loop.index < loop.length %}<br>{% endif %}{% endfor %}{% endif %} |
{% endfor %}

{% endfor %}
{% else %}

| Service | URLs |
| ------- | ---- |
{% for service in keployr_devop.services %}
| {{ service.name }} | {% if service.urls is defined %}{% for url in service.urls %}* [https://{{ url.ingress }}{{ env.dns_suffix}}](https://{{ url.ingress }}{{ env.dns_suffix}}){% if loop.index < loop.length %}<br>{% endif %}{% endfor %}{% endif %} |
{% endfor %}

{% endif %}
{% endfor %}
